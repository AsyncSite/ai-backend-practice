# [Session 05] AI 활용 프롬프트 -- 동시성

## 1단계: 이해

```
낙관적 잠금에서 ABA 문제가 뭔지 설명해줘.
버전 번호가 1 -> 2 -> 1로 변경되면 어떤 일이 발생해?
```

```
데이터베이스의 격리 수준(Isolation Level) 4단계를 설명하고,
각 단계에서 발생할 수 있는 문제를 예시와 함께 알려줘.
```

## 2단계: 적용

```
Redisson으로 분산 락을 구현해줘. Spring Boot에서.
요구사항:
- 락 획득 대기 시간: 5초
- 락 자동 해제 시간: 3초
- 재고 차감 로직에 적용
```

## 3단계: 검증

```
이 분산 락 코드에서 락 소유자 확인 없이 삭제하면 어떤 문제가 발생해?
락을 획득한 스레드 A의 처리가 3초를 초과하여 락이 자동 해제되고,
스레드 B가 새 락을 획득한 상태에서 A가 B의 락을 삭제하는 시나리오를 설명해줘.
```

```
[AI가 틀릴 수 있는 포인트]
AI가 제시하는 성능 수치(TPS 등)는 실제 환경과 다를 수 있습니다.
반드시 부하 테스트로 실측하세요.
```
